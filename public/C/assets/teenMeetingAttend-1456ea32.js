import{aC as S,d as V,r as F,S as G,an as q,e as m,L as d,Z as l,Q as n,M as z,O as g,P as p,aJ as O,U,T as _,aG as Z,ba as y,aq as i,ap as r,aO as c,F as v,aP as x,aN as E,cx as R}from"./index-86771752.js";import{u as I}from"./use-message-5551be56.js";import{N as J}from"./Tag-a947ab59.js";const Q={get:async M=>await S.post({url:"/teemMeetingAttend/get",data:M})},W={key:1,class:"mt-5"},$={class:"text-[10px]"},j={class:"text-md font-bold"},H={class:"text-md font-extrabold"},K={class:"text-sm mb-2"},X={class:"text-md font-extrabold"},Y={class:"text-sm mb-2"},ee={class:"text-md font-extrabold"},te={class:"text-sm mb-2"},ae={class:"text-md font-extrabold"},ne={class:"text-sm mb-2"},se=V({__name:"teenMeetingAttend",setup(M){const k=I(),a=F({api:{getTeenMeetingAttend:null},data:{password:""},current:{page:"password"},isDisabled:!0}),{mutate:w,isPending:N}=G({mutationFn:()=>Q.get({password:a.value.data.password}),onSuccess:s=>{var t;if(((t=s==null?void 0:s.response)==null?void 0:t.status)===401){k.error("密碼錯誤");return}a.value.current.page="dataPage",a.value.api.getTeenMeetingAttend=s}});q(a.value.data,s=>{s.password.length>=3&&(a.value.isDisabled=!1)});const L=m(()=>{var s,t,e,u,f,A,T;return{青職_目標28位:((s=a.value.api.getTeenMeetingAttend)==null?void 0:s.data.ageRange.youth.data.filter(o=>o.participation!=="不參加"))||[],"大專/青少年_目標16位":[...((t=a.value.api.getTeenMeetingAttend)==null?void 0:t.data.ageRange.college.data.filter(o=>o.participation!=="不參加"))||[],...((e=a.value.api.getTeenMeetingAttend)==null?void 0:e.data.ageRange.teenager.data.filter(o=>o.participation!=="不參加"))||[]],兒童:[...((u=a.value.api.getTeenMeetingAttend)==null?void 0:u.data.ageRange.child1.data.filter(o=>o.participation!=="不參加"))||[],...((f=a.value.api.getTeenMeetingAttend)==null?void 0:f.data.ageRange.child2.data.filter(o=>o.participation!=="不參加"))||[],...((A=a.value.api.getTeenMeetingAttend)==null?void 0:A.data.ageRange.child3.data.filter(o=>o.participation!=="不參加"))||[]],其他:((T=a.value.api.getTeenMeetingAttend)==null?void 0:T.data.ageRange.other.data.filter(o=>o.participation!=="不參加"))||[]}}),h=m(()=>{var s,t;return(t=(s=a.value.api.getTeenMeetingAttend)==null?void 0:s.data.ageRange.youth.data[0])!=null&&t.updatedAt?new Date(a.value.api.getTeenMeetingAttend.data.ageRange.youth.data[0].updatedAt).toLocaleString("zh-TW",{timeZone:"Asia/Taipei"}):"無更新資料"}),b=m(()=>{var s,t,e,u,f,A,T;return[...((s=a.value.api.getTeenMeetingAttend)==null?void 0:s.data.ageRange.youth.data)||[],...((t=a.value.api.getTeenMeetingAttend)==null?void 0:t.data.ageRange.college.data)||[],...((e=a.value.api.getTeenMeetingAttend)==null?void 0:e.data.ageRange.teenager.data)||[],...((u=a.value.api.getTeenMeetingAttend)==null?void 0:u.data.ageRange.child1.data)||[],...((f=a.value.api.getTeenMeetingAttend)==null?void 0:f.data.ageRange.child2.data)||[],...((A=a.value.api.getTeenMeetingAttend)==null?void 0:A.data.ageRange.child3.data)||[],...((T=a.value.api.getTeenMeetingAttend)==null?void 0:T.data.ageRange.other.data)||[]]}),C=m(()=>b.value.filter(s=>s.district==="一區")),D=m(()=>b.value.filter(s=>s.district==="二區")),P=m(()=>b.value.filter(s=>s.district==="三區")),B=m(()=>b.value.filter(s=>s.district==="四區"));return(s,t)=>(d(),l("div",null,[n(a).current.page==="password"?(d(),z(n(Z),{key:0,class:"max-w-[300px]",title:"密碼"},{default:g(()=>[p(n(O),{value:n(a).data.password,"onUpdate:value":t[0]||(t[0]=e=>n(a).data.password=e),class:"mb-2",placeholder:"請輸入密碼"},null,8,["value"]),p(n(U),{disabled:n(a).isDisabled,type:"primary",loading:n(N),onClick:t[1]||(t[1]=e=>n(w)())},{default:g(()=>t[2]||(t[2]=[_(" 確認 ")])),_:1},8,["disabled","loading"])]),_:1})):y("",!0),n(a).current.page==="dataPage"?(d(),l("div",W,[t[12]||(t[12]=i("span",{class:"text-sm font-bold"}," 28會所青年大會報名情形： ",-1)),i("p",$," 資料日期："+r(n(h)),1),p(n(E),{type:"line",animated:"","default-value":"會所報名情形"},{default:g(()=>[p(n(c),{name:"會所報名情形",tab:"會所報名情形"},{default:g(()=>[(d(!0),l(v,null,x(n(L),(e,u)=>(d(),l(v,{key:u},[i("p",j,r(u)+" (已報名"+r(e.length)+"位) ",1),(d(!0),l(v,null,x(e,f=>(d(),l("span",{key:f._id,class:"text-sm mx-1"},[p(n(J),{class:"mb-1",size:"small",bordered:!1},{default:g(()=>[_(r(f.name),1)]),_:2},1024)]))),128))],64))),128))]),_:1}),p(n(c),{name:"福音朋友",tab:"福音朋友"},{default:g(()=>[t[3]||(t[3]=i("div",{class:"text-md font-bold text-[16px]"}," 已報名福音朋友: ",-1)),(d(!0),l(v,null,x(n(b).filter(e=>e.meetingStatus==="福音朋友"),(e,u)=>(d(),l("div",{key:e._id},[i("span",null,r(u+1)+". "+r(e.name)+" 邀者："+r(e.sheepherd),1)]))),128))]),_:1}),p(n(c),{name:"一區",tab:"一區"},{default:g(()=>[t[5]||(t[5]=i("div",{class:"text-md font-bold text-[16px]"}," 一區代禱名單: ",-1)),(d(!0),l(v,null,x(n(C).filter(e=>e.inviteList!=="無"),e=>(d(),l("div",{key:e._id},[i("span",H,r(e.name)+"： ",1),t[4]||(t[4]=i("br",null,null,-1)),i("div",K,r(e.inviteList),1)]))),128))]),_:1}),p(n(c),{name:"二區",tab:"二區"},{default:g(()=>[t[7]||(t[7]=i("div",{class:"text-md font-bold text-[16px]"}," 二區代禱名單: ",-1)),(d(!0),l(v,null,x(n(D).filter(e=>e.inviteList!=="無"),e=>(d(),l("div",{key:e._id},[i("span",X,r(e.name)+"： ",1),t[6]||(t[6]=i("br",null,null,-1)),i("div",Y,r(e.inviteList),1)]))),128))]),_:1}),p(n(c),{name:"三區",tab:"三區"},{default:g(()=>[t[9]||(t[9]=i("div",{class:"text-md font-bold text-[16px]"}," 三區代禱名單: ",-1)),(d(!0),l(v,null,x(n(P).filter(e=>e.inviteList!=="無"),e=>(d(),l("div",{key:e._id},[i("span",ee,r(e.name)+"： ",1),t[8]||(t[8]=i("br",null,null,-1)),i("div",te,r(e.inviteList),1)]))),128))]),_:1}),p(n(c),{name:"四區",tab:"四區"},{default:g(()=>[t[11]||(t[11]=i("div",{class:"text-md font-bold text-[16px]"}," 四區代禱名單: ",-1)),(d(!0),l(v,null,x(n(B).filter(e=>e.inviteList!=="無"),e=>(d(),l("div",{key:e._id},[i("span",ae,r(e.name)+"： ",1),t[10]||(t[10]=i("br",null,null,-1)),i("div",ne,r(e.inviteList),1)]))),128))]),_:1})]),_:1})])):y("",!0)]))}});typeof R=="function"&&R(se);export{se as default};
