import{aC as _,d as C,r as P,S as B,an as D,e as A,L as l,Z as u,Q as t,M as S,O as s,P as d,aJ as V,U as F,T as r,aG as G,bi as M,aq as m,ap as f,aO as p,F as v,aP as b,aN as L,cC as w}from"./index-2fe077ab.js";import{u as q}from"./use-message-00d5062c.js";import{N as z}from"./Tag-974495cf.js";const O={get:async c=>await _.post({url:"/teemMeetingAttend/get",data:c})},U={key:1,class:"mt-5"},Z={class:"text-[10px]"},h={class:"text-md font-bold"},E=C({__name:"teenMeetingAttend",setup(c){const y=q(),a=P({api:{getTeenMeetingAttend:null},data:{password:""},current:{page:"password"},isDisabled:!0}),{mutate:x,isPending:N}=B({mutationFn:()=>O.get({password:a.value.data.password}),onSuccess:n=>{var e;if(((e=n==null?void 0:n.response)==null?void 0:e.status)===401){y.error("密碼錯誤");return}a.value.current.page="dataPage",a.value.api.getTeenMeetingAttend=n,console.log("state.value.api.getTeenMeetingAttend",a.value.api.getTeenMeetingAttend)}});D(a.value.data,n=>{n.password.length>=3&&(a.value.isDisabled=!1)});const k=A(()=>{var n,e,i,o,g,T;return{青職:((n=a.value.api.getTeenMeetingAttend)==null?void 0:n.data.ageRange.youth.data)||[],大專:((e=a.value.api.getTeenMeetingAttend)==null?void 0:e.data.ageRange.college.data)||[],青少年:((i=a.value.api.getTeenMeetingAttend)==null?void 0:i.data.ageRange.teenager.data)||[],兒童1:((o=a.value.api.getTeenMeetingAttend)==null?void 0:o.data.ageRange.child1.data)||[],兒童2:((g=a.value.api.getTeenMeetingAttend)==null?void 0:g.data.ageRange.child2.data)||[],兒童3:((T=a.value.api.getTeenMeetingAttend)==null?void 0:T.data.ageRange.child3.data)||[]}}),R=A(()=>{var n,e;return(e=(n=a.value.api.getTeenMeetingAttend)==null?void 0:n.data.ageRange.youth.data[0])!=null&&e.updatedAt?new Date(a.value.api.getTeenMeetingAttend.data.ageRange.youth.data[0].updatedAt).toLocaleString("zh-TW",{timeZone:"Asia/Taipei"}):"無更新資料"});return(n,e)=>(l(),u("div",null,[t(a).current.page==="password"?(l(),S(t(G),{key:0,class:"max-w-[300px]",title:"密碼"},{default:s(()=>[d(t(V),{value:t(a).data.password,"onUpdate:value":e[0]||(e[0]=i=>t(a).data.password=i),class:"mb-2"},null,8,["value"]),d(t(F),{disabled:t(a).isDisabled,type:"primary",loading:t(N),onClick:e[1]||(e[1]=i=>t(x)())},{default:s(()=>e[2]||(e[2]=[r(" 確認 ")])),_:1},8,["disabled","loading"])]),_:1})):M("",!0),t(a).current.page==="dataPage"?(l(),u("div",U,[e[6]||(e[6]=m("span",{class:"text-sm font-bold"}," 28會所青年特會報名情形： ",-1)),m("p",Z," 資料更新日期："+f(t(R))+" (每天晚上20:00後更新資料) ",1),d(t(L),{type:"line",animated:"","default-value":"專項"},{default:s(()=>[d(t(p),{name:"專項",tab:"專項"},{default:s(()=>[(l(!0),u(v,null,b(t(k),(i,o)=>(l(),u(v,{key:o},[m("p",h,f(o),1),(l(!0),u(v,null,b(i,g=>(l(),u("span",{key:g._id,class:"text-sm mx-1"},[d(t(z),{size:"small",bordered:!1},{default:s(()=>[r(f(g.name),1)]),_:2},1024)]))),128))],64))),128))]),_:1}),d(t(p),{name:"青職邀約",tab:"青職邀約"},{default:s(()=>e[3]||(e[3]=[r(" 青職邀約 （開發中） ")])),_:1}),d(t(p),{name:"大專青少邀約",tab:"大專青少邀約"},{default:s(()=>e[4]||(e[4]=[r(" 大專青少年 （開發中） ")])),_:1}),d(t(p),{name:"福音朋友",tab:"福音朋友"},{default:s(()=>e[5]||(e[5]=[r(" 會前來的 福音朋友 （開發中） ")])),_:1})]),_:1})])):M("",!0)]))}});typeof w=="function"&&w(E);export{E as default};
