import{aC as k,d as C,r as R,S as P,an as B,e as v,L as d,Z as o,Q as t,M as D,O as l,P as r,aJ as h,U as S,T as g,aG as V,bi as T,aq as p,ap as u,aO as A,F as m,aP as b,aN as F,cC as M}from"./index-0604401d.js";import{u as G}from"./use-message-e54b69ce.js";import{N as L}from"./Tag-5c5fc12c.js";const q={get:async c=>await k.post({url:"/teemMeetingAttend/get",data:c})},z={key:1,class:"mt-5"},O={class:"text-[10px]"},U={class:"text-md font-bold"},Z=C({__name:"teenMeetingAttend",setup(c){const w=G(),a=R({api:{getTeenMeetingAttend:null},data:{password:""},current:{page:"password"},isDisabled:!0}),{mutate:y,isPending:_}=P({mutationFn:()=>q.get({password:a.value.data.password}),onSuccess:s=>{var e;if(((e=s==null?void 0:s.response)==null?void 0:e.status)===401){w.error("密碼錯誤");return}a.value.current.page="dataPage",a.value.api.getTeenMeetingAttend=s}});B(a.value.data,s=>{s.password.length>=3&&(a.value.isDisabled=!1)});const x=v(()=>{var s,e,n,i;return{青職_目標28位:((s=a.value.api.getTeenMeetingAttend)==null?void 0:s.data.ageRange.youth.data)||[],"大專/青少年_目標16位":[...((e=a.value.api.getTeenMeetingAttend)==null?void 0:e.data.ageRange.college.data)||[],...((n=a.value.api.getTeenMeetingAttend)==null?void 0:n.data.ageRange.teenager.data)||[]],其他:((i=a.value.api.getTeenMeetingAttend)==null?void 0:i.data.ageRange.other.data)||[]}}),N=v(()=>{var s,e;return(e=(s=a.value.api.getTeenMeetingAttend)==null?void 0:s.data.ageRange.youth.data[0])!=null&&e.updatedAt?new Date(a.value.api.getTeenMeetingAttend.data.ageRange.youth.data[0].updatedAt).toLocaleString("zh-TW",{timeZone:"Asia/Taipei"}):"無更新資料"});return(s,e)=>(d(),o("div",null,[t(a).current.page==="password"?(d(),D(t(V),{key:0,class:"max-w-[300px]",title:"密碼"},{default:l(()=>[r(t(h),{value:t(a).data.password,"onUpdate:value":e[0]||(e[0]=n=>t(a).data.password=n),class:"mb-2"},null,8,["value"]),r(t(S),{disabled:t(a).isDisabled,type:"primary",loading:t(_),onClick:e[1]||(e[1]=n=>t(y)())},{default:l(()=>e[2]||(e[2]=[g(" 確認 ")])),_:1},8,["disabled","loading"])]),_:1})):T("",!0),t(a).current.page==="dataPage"?(d(),o("div",z,[e[4]||(e[4]=p("span",{class:"text-sm font-bold"}," 28會所青年特會報名情形： ",-1)),p("p",O," 資料更新日期："+u(t(N))+" (每天晚上20:00後更新資料) ",1),r(t(F),{type:"line",animated:"","default-value":"會所報名情形"},{default:l(()=>[r(t(A),{name:"會所報名情形",tab:"會所報名情形"},{default:l(()=>[(d(!0),o(m,null,b(t(x),(n,i)=>(d(),o(m,{key:i},[p("p",U,u(i)+" (已報名"+u(n.length)+"位) ",1),(d(!0),o(m,null,b(n,f=>(d(),o("span",{key:f._id,class:"text-sm mx-1"},[r(t(L),{class:"mb-1",size:"small",bordered:!1},{default:l(()=>[g(u(f.name),1)]),_:2},1024)]))),128))],64))),128))]),_:1}),r(t(A),{name:"數據",tab:"數據"},{default:l(()=>e[3]||(e[3]=[g(" 數據 ")])),_:1})]),_:1})])):T("",!0)]))}});typeof M=="function"&&M(Z);export{Z as default};
