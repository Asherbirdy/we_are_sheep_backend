import{aC as C,d as h,r as P,S as B,an as D,e as A,L as d,Z as i,Q as t,M as S,O as l,P as o,aJ as V,U as F,T as g,aG as G,bi as M,aq as p,ap as m,aO as b,F as c,aP as w,aN as L,cC as y}from"./index-739275dd.js";import{u as q}from"./use-message-be254b50.js";import{N as z}from"./Tag-9e9e083c.js";const O={get:async f=>await C.post({url:"/teemMeetingAttend/get",data:f})},U={key:1,class:"mt-5"},Z={class:"text-[10px]"},E={class:"text-md font-bold"},I=h({__name:"teenMeetingAttend",setup(f){const x=q(),e=P({api:{getTeenMeetingAttend:null},data:{password:""},current:{page:"password"},isDisabled:!0}),{mutate:N,isPending:_}=B({mutationFn:()=>O.get({password:e.value.data.password}),onSuccess:n=>{var a;if(((a=n==null?void 0:n.response)==null?void 0:a.status)===401){x.error("密碼錯誤");return}e.value.current.page="dataPage",e.value.api.getTeenMeetingAttend=n}});D(e.value.data,n=>{n.password.length>=3&&(e.value.isDisabled=!1)});const R=A(()=>{var n,a,s,u,r,v,T;return{青職:((n=e.value.api.getTeenMeetingAttend)==null?void 0:n.data.ageRange.youth.data)||[],大專:((a=e.value.api.getTeenMeetingAttend)==null?void 0:a.data.ageRange.college.data)||[],青少年:((s=e.value.api.getTeenMeetingAttend)==null?void 0:s.data.ageRange.teenager.data)||[],其他:((u=e.value.api.getTeenMeetingAttend)==null?void 0:u.data.ageRange.other.data)||[],兒童1:((r=e.value.api.getTeenMeetingAttend)==null?void 0:r.data.ageRange.child1.data)||[],兒童2:((v=e.value.api.getTeenMeetingAttend)==null?void 0:v.data.ageRange.child2.data)||[],兒童3:((T=e.value.api.getTeenMeetingAttend)==null?void 0:T.data.ageRange.child3.data)||[]}}),k=A(()=>{var n,a;return(a=(n=e.value.api.getTeenMeetingAttend)==null?void 0:n.data.ageRange.youth.data[0])!=null&&a.updatedAt?new Date(e.value.api.getTeenMeetingAttend.data.ageRange.youth.data[0].updatedAt).toLocaleString("zh-TW",{timeZone:"Asia/Taipei"}):"無更新資料"});return(n,a)=>(d(),i("div",null,[t(e).current.page==="password"?(d(),S(t(G),{key:0,class:"max-w-[300px]",title:"密碼"},{default:l(()=>[o(t(V),{value:t(e).data.password,"onUpdate:value":a[0]||(a[0]=s=>t(e).data.password=s),class:"mb-2"},null,8,["value"]),o(t(F),{disabled:t(e).isDisabled,type:"primary",loading:t(_),onClick:a[1]||(a[1]=s=>t(N)())},{default:l(()=>a[2]||(a[2]=[g(" 確認 ")])),_:1},8,["disabled","loading"])]),_:1})):M("",!0),t(e).current.page==="dataPage"?(d(),i("div",U,[a[4]||(a[4]=p("span",{class:"text-sm font-bold"}," 28會所青年特會報名情形： ",-1)),p("p",Z," 資料更新日期："+m(t(k))+" (每天晚上20:00後更新資料) ",1),o(t(L),{type:"line",animated:"","default-value":"會所報名情形"},{default:l(()=>[o(t(b),{name:"會所報名情形",tab:"會所報名情形"},{default:l(()=>[(d(!0),i(c,null,w(t(R),(s,u)=>(d(),i(c,{key:u},[p("p",E,m(u),1),(d(!0),i(c,null,w(s,r=>(d(),i("span",{key:r._id,class:"text-sm mx-1"},[o(t(z),{size:"small",bordered:!1},{default:l(()=>[g(m(r.name),1)]),_:2},1024)]))),128))],64))),128))]),_:1}),o(t(b),{name:"數據",tab:"數據"},{default:l(()=>a[3]||(a[3]=[g(" 數據 ")])),_:1})]),_:1})])):M("",!0)]))}});typeof y=="function"&&y(I);export{I as default};
