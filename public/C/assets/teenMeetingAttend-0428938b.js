import{aC as B,d as S,r as V,S as F,an as G,e as m,L as l,Z as i,Q as n,M as q,O as o,P as g,aJ as z,U as O,T as M,aG as U,bi as _,aq as d,ap as r,aO as x,F as v,aP as f,aN as Z,cC as y}from"./index-9eb7dd56.js";import{u as E}from"./use-message-4d292ec1.js";import{N as I}from"./Tag-254c4027.js";const J={get:async T=>await B.post({url:"/teemMeetingAttend/get",data:T})},Q={key:1,class:"mt-5"},W={class:"text-[10px]"},$={class:"text-md font-bold"},j={class:"text-md font-extrabold"},H={class:"text-sm mb-2"},K={class:"text-md font-extrabold"},X={class:"text-sm mb-2"},Y={class:"text-md font-extrabold"},ee={class:"text-sm mb-2"},te={class:"text-md font-extrabold"},ae={class:"text-sm mb-2"},ne=S({__name:"teenMeetingAttend",setup(T){const R=E(),a=V({api:{getTeenMeetingAttend:null},data:{password:""},current:{page:"password"},isDisabled:!0}),{mutate:k,isPending:w}=F({mutationFn:()=>J.get({password:a.value.data.password}),onSuccess:s=>{var t;if(((t=s==null?void 0:s.response)==null?void 0:t.status)===401){R.error("密碼錯誤");return}a.value.current.page="dataPage",a.value.api.getTeenMeetingAttend=s}});G(a.value.data,s=>{s.password.length>=3&&(a.value.isDisabled=!1)});const N=m(()=>{var s,t,e,u,p,c,A;return{青職_目標28位:((s=a.value.api.getTeenMeetingAttend)==null?void 0:s.data.ageRange.youth.data)||[],"大專/青少年_目標16位":[...((t=a.value.api.getTeenMeetingAttend)==null?void 0:t.data.ageRange.college.data)||[],...((e=a.value.api.getTeenMeetingAttend)==null?void 0:e.data.ageRange.teenager.data)||[]],兒童:[...((u=a.value.api.getTeenMeetingAttend)==null?void 0:u.data.ageRange.child1.data)||[],...((p=a.value.api.getTeenMeetingAttend)==null?void 0:p.data.ageRange.child2.data)||[],...((c=a.value.api.getTeenMeetingAttend)==null?void 0:c.data.ageRange.child3.data)||[]],其他:((A=a.value.api.getTeenMeetingAttend)==null?void 0:A.data.ageRange.other.data)||[]}}),L=m(()=>{var s,t;return(t=(s=a.value.api.getTeenMeetingAttend)==null?void 0:s.data.ageRange.youth.data[0])!=null&&t.updatedAt?new Date(a.value.api.getTeenMeetingAttend.data.ageRange.youth.data[0].updatedAt).toLocaleString("zh-TW",{timeZone:"Asia/Taipei"}):"無更新資料"}),b=m(()=>{var s,t,e,u,p,c,A;return[...((s=a.value.api.getTeenMeetingAttend)==null?void 0:s.data.ageRange.youth.data)||[],...((t=a.value.api.getTeenMeetingAttend)==null?void 0:t.data.ageRange.college.data)||[],...((e=a.value.api.getTeenMeetingAttend)==null?void 0:e.data.ageRange.teenager.data)||[],...((u=a.value.api.getTeenMeetingAttend)==null?void 0:u.data.ageRange.child1.data)||[],...((p=a.value.api.getTeenMeetingAttend)==null?void 0:p.data.ageRange.child2.data)||[],...((c=a.value.api.getTeenMeetingAttend)==null?void 0:c.data.ageRange.child3.data)||[],...((A=a.value.api.getTeenMeetingAttend)==null?void 0:A.data.ageRange.other.data)||[]]}),h=m(()=>b.value.filter(s=>s.district==="一區")),C=m(()=>b.value.filter(s=>s.district==="二區")),D=m(()=>b.value.filter(s=>s.district==="三區")),P=m(()=>b.value.filter(s=>s.district==="四區"));return(s,t)=>(l(),i("div",null,[n(a).current.page==="password"?(l(),q(n(U),{key:0,class:"max-w-[300px]",title:"密碼"},{default:o(()=>[g(n(z),{value:n(a).data.password,"onUpdate:value":t[0]||(t[0]=e=>n(a).data.password=e),class:"mb-2",placeholder:"請輸入密碼"},null,8,["value"]),g(n(O),{disabled:n(a).isDisabled,type:"primary",loading:n(w),onClick:t[1]||(t[1]=e=>n(k)())},{default:o(()=>t[2]||(t[2]=[M(" 確認 ")])),_:1},8,["disabled","loading"])]),_:1})):_("",!0),n(a).current.page==="dataPage"?(l(),i("div",Q,[t[12]||(t[12]=d("span",{class:"text-sm font-bold"}," 28會所青年大會報名情形： ",-1)),d("p",W," 資料日期："+r(n(L)),1),g(n(Z),{type:"line",animated:"","default-value":"會所報名情形"},{default:o(()=>[g(n(x),{name:"會所報名情形",tab:"會所報名情形"},{default:o(()=>[(l(!0),i(v,null,f(n(N),(e,u)=>(l(),i(v,{key:u},[d("p",$,r(u)+" (已報名"+r(e.length)+"位) ",1),(l(!0),i(v,null,f(e,p=>(l(),i("span",{key:p._id,class:"text-sm mx-1"},[g(n(I),{class:"mb-1",size:"small",bordered:!1},{default:o(()=>[M(r(p.name),1)]),_:2},1024)]))),128))],64))),128))]),_:1}),g(n(x),{name:"福音朋友",tab:"福音朋友"},{default:o(()=>[t[3]||(t[3]=d("div",{class:"text-md font-bold text-[16px]"}," 已報名福音朋友: ",-1)),(l(!0),i(v,null,f(n(b).filter(e=>e.meetingStatus==="福音朋友"),(e,u)=>(l(),i("div",{key:e._id},[d("span",null,r(u+1)+". "+r(e.name)+" 邀者："+r(e.sheepherd),1)]))),128))]),_:1}),g(n(x),{name:"一區",tab:"一區"},{default:o(()=>[t[5]||(t[5]=d("div",{class:"text-md font-bold text-[16px]"}," 一區代禱名單: ",-1)),(l(!0),i(v,null,f(n(h).filter(e=>e.inviteList!=="無"),e=>(l(),i("div",{key:e._id},[d("span",j,r(e.name)+"： ",1),t[4]||(t[4]=d("br",null,null,-1)),d("div",H,r(e.inviteList),1)]))),128))]),_:1}),g(n(x),{name:"二區",tab:"二區"},{default:o(()=>[t[7]||(t[7]=d("div",{class:"text-md font-bold text-[16px]"}," 二區代禱名單: ",-1)),(l(!0),i(v,null,f(n(C).filter(e=>e.inviteList!=="無"),e=>(l(),i("div",{key:e._id},[d("span",K,r(e.name)+"： ",1),t[6]||(t[6]=d("br",null,null,-1)),d("div",X,r(e.inviteList),1)]))),128))]),_:1}),g(n(x),{name:"三區",tab:"三區"},{default:o(()=>[t[9]||(t[9]=d("div",{class:"text-md font-bold text-[16px]"}," 三區代禱名單: ",-1)),(l(!0),i(v,null,f(n(D).filter(e=>e.inviteList!=="無"),e=>(l(),i("div",{key:e._id},[d("span",Y,r(e.name)+"： ",1),t[8]||(t[8]=d("br",null,null,-1)),d("div",ee,r(e.inviteList),1)]))),128))]),_:1}),g(n(x),{name:"四區",tab:"四區"},{default:o(()=>[t[11]||(t[11]=d("div",{class:"text-md font-bold text-[16px]"}," 四區代禱名單: ",-1)),(l(!0),i(v,null,f(n(P).filter(e=>e.inviteList!=="無"),e=>(l(),i("div",{key:e._id},[d("span",te,r(e.name)+"： ",1),t[10]||(t[10]=d("br",null,null,-1)),d("div",ae,r(e.inviteList),1)]))),128))]),_:1})]),_:1})])):_("",!0)]))}});typeof y=="function"&&y(ne);export{ne as default};
